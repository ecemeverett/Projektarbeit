<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Textprüfung</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: url('/static/advise.jpg') no-repeat center center fixed;
            background-size: cover;
            text-align: center;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        textarea {
            width: 100%;
            height: 150px;
            margin-top: 20px;
            padding: 10px;
            font-size: 16px;
            border-radius: 5px;
            border: 1px solid #ddd;
        }

        button {
            padding: 15px 25px;
            font-size: 18px;
            margin-top: 20px;
            background-color: #502cba;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .button2 {
            padding: 15px 25px;
            font-size: 18px;
            margin-top: 40px;
            background-color: #502cba;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Enter your texts for checking</h1>
        <form method="POST">
            <input type="hidden" name="url" value="{{ url }}">

            <label for="impressum">Impressum Check</label>
            <textarea id="impressum" name="impressum"
                placeholder="Please enter your variables">{{ templates['impressum'] }}</textarea>

            <label for="datenschutz">Datenschutzerklärung Check</label>
            <textarea id="datenschutz" name="datenschutz"
                placeholder="Please enter your Text">{{ templates['datenschutz'] }}</textarea>

            <label for="cookie_policy">Cookies Check</label>
            <textarea id="cookie_policy" name="cookie_policy"
                placeholder="Please enter your Text">{{ templates['cookie_policy'] }}</textarea>

            <label for="newsletter">Newsletter Check</label>
            <textarea id="newsletter" name="newsletter"
                placeholder="Please enter your Text">{{ templates['newsletter'] }}</textarea>


            <button type="submit">Run</button>
            <a href="{{ url_for('index') }}" class=button2>Back to the start page</a>
        </form>
    </div>
    <script>
        // Definiere die Standardtexte
        const defaultTexts = {
            impressum: "Here Imprint variables.",
            datenschutz: "Standardtext für Datenschutzerklärung.",
            cookie_policy: `Auf unserer Webseite verwenden wir Cookies und ähnliche Technologien, um Informationen auf Ihrem Gerät (z.B. IP-Adresse, Nutzer-ID, Browser-Informationen) zu speichern und/oder abzurufen. Einige von ihnen sind für den Betrieb der Webseite unbedingt erforderlich. Andere verwenden wir nur mit Ihrer Einwilligung, z.B. um unser Angebot zu verbessern, ihre Nutzung zu analysieren, Inhalte auf Ihre Interessen zuzuschneiden oder Ihren Browser/Ihr Gerät zu identifizieren, um ein Profil Ihrer Interessen zu erstellen und Ihnen relevante Werbung auf anderen Onlineangeboten zu zeigen. Sie können nicht erforderliche Cookies akzeptieren ("Alle akzeptieren"), ablehnen ("Ohne Einwilligung fortfahren") oder die Einstellungen individuell anpassen und Ihre Auswahl speichern ("Auswahl speichern"). Zudem können Sie Ihre Einstellungen (unter dem Link "Cookie-Einstellungen") jederzeit aufrufen und nachträglich anpassen. Weitere Informationen enthalten unsere Datenschutzinformationen.`,
            newsletter: "Standardtext für Newsletter."
        };

        document.querySelector("form").addEventListener("submit", function (event) {
            let textareas = document.querySelectorAll("textarea");
            let allFilled = true;

            textareas.forEach(textarea => {
                if (textarea.value.trim() === "") {
                    allFilled = false;
                }
            });

            if (!allFilled) {
                event.preventDefault(); // Verhindert das Absenden des Formulars
                let confirmMessage = "Some fields are empty. Would you like to continue with the standard texts?";
                if (confirm(confirmMessage)) {
                    // Setze die Standardtexte ein
                    textareas.forEach(textarea => {
                        if (textarea.value.trim() === "") {
                            textarea.value = defaultTexts[textarea.name] || ""; // Standardtext einsetzen
                        }
                    });
                    this.submit(); // Formular absenden
                }
            }
        });
    </script>


</body>

</html>
